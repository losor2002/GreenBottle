<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="it">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
    <link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/>
    <link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/>
    <title>UtentiTest.java</title>
    <link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/>
    <script type="text/javascript" src="../jacoco-resources/prettify.js"></script>
</head>
<body onload="window['PR_TAB_WIDTH']=4;prettyPrint()">
<div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html"
                                                              class="el_session">Sessions</a></span><a
        href="../index.html" class="el_report">All in greenbottle Coverage Results</a> &gt; <a href="index.source.html"
                                                                                               class="el_package">it.unisa.greenbottle.dataJPATests</a>
    &gt; <span class="el_source">UtentiTest.java</span></div>
<h1>UtentiTest.java</h1>
<pre class="source lang-java linenums">package it.unisa.greenbottle.dataJPATests;


import it.unisa.greenbottle.storage.accessoStorage.dao.AdminDao;
import it.unisa.greenbottle.storage.accessoStorage.dao.ClienteDao;
import it.unisa.greenbottle.storage.accessoStorage.entity.Admin;
import it.unisa.greenbottle.storage.accessoStorage.entity.Cliente;
import java.util.Optional;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;
import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;

/**
 * Testa la creazione di un cliente e di un admin.
 */
<span class="fc" id="L17">@DataJpaTest</span>
@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)
<span class="fc" id="L19">public class UtentiTest {</span>

  @Autowired
  private ClienteDao clienteDao;


  @Autowired
  private AdminDao adminDao;


<span class="fc" id="L29">  Cliente clienteTest =</span>
      new Cliente(&quot;mario.rossi@gmail.com&quot;, &quot;asdfASDF1234!&quot;, &quot;Mario&quot;, &quot;Rossi&quot;, 0, 0, null, null);

<span class="fc"
      id="L32">  Admin adminTest = new Admin(&quot;admin1@greenbottle.it&quot;, &quot;asdfASDF1234!&quot;);</span>


  @Test
  public void createCliente() {
<span class="fc" id="L37">    clienteDao.save(clienteTest);</span>
<span class="fc" id="L38">    System.out.println(&quot;cliente test: &quot; + clienteTest);</span>

<span class="fc" id="L40">    Optional&lt;Cliente&gt; c2 = clienteDao.findClienteByEmail(&quot;mario.rossi@gmail.com&quot;);</span>

<span class="pc bpc" id="L42" title="1 of 2 branches missed.">    System.out.println(c2.isPresent() ? &quot;cliente2&quot; + c2.get() : &quot;Not found&quot;);</span>
<span class="pc bpc" id="L43" title="1 of 2 branches missed.">    assert clienteTest.equals(c2.get());</span>
<span class="fc" id="L44">  }</span>

  @Test
  public void createAdmin() {
<span class="fc" id="L48">    adminDao.save(adminTest);</span>
<span class="fc" id="L49">    System.out.println(adminTest.toString());</span>

<span class="fc"
      id="L51">    Optional&lt;Admin&gt; a2 = adminDao.findAdminByEmail(&quot;admin1@greenbottle.it&quot;);</span>

<span class="pc bpc" id="L53" title="1 of 2 branches missed.">    System.out.println(a2.isPresent() ? a2.get().toString() : &quot;Not found&quot;);</span>
<span class="pc bpc" id="L54" title="1 of 2 branches missed.">    assert adminTest.equals(a2.get());</span>
<span class="fc" id="L55">  }</span>
}
</pre>
<div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span>
</div>
</body>
</html>